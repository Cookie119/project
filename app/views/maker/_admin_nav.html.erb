<html class="dark scroll-smooth">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="/dist/output.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body class="h-screen">

    <header class="h-14 bg-gray-100 top-0 w-full fixed shadow" style="z-index: 99999;">
        <div class="flex justify-between items-center px-10 h-14">
            <div class="flex justify-between items-center gap-x-14">
                <div class="w-40">
                    <h2 class="text-md font-bold" href="#">Admin</h2>
                    <p class="text-gray-400 text-[12px]">
                         Website Administrator
                    </p>
                </div>



            </div>
        </div>
    </header>

    <!-- main content -->
    <main class="h-[calc(100vh-120px)] w-full absolute top-14">
        <!-- left sidebar -->
        <aside id="sidebar"
            class="w-[60px] lg:w-[240px] h-[calc(100vh-120px)] whitespace-nowrap fixed shadow overflow-x-hidden transition-all duration-500 ease-in-out">
            <div class="flex flex-col justify-between h-full">
                <ul class="flex flex-col gap-1 mt-2">

                    <li class="text-gray-500 hover:bg-gray-100 hover:text-gray-900">
     <%= link_to(addstudents_path, class: "w-full flex items-center py-3") do %>
                       <i class="fas fa-user text-center px-6"></i>
                            <span class="whitespace-nowrap pl-1">Add Students</span>
                               <% end %>
                        </a>
                    </li>

                    <li class="text-gray-500 hover:bg-gray-100 hover:text-gray-900">
       <%= link_to(teachers_path, class: "w-full flex items-center py-3") do %>
                            <i class="fas fa-users text-center px-5"></i>
                            <span class="whitespace-nowrap pl-1">Add Teachers</span>
                            <% end %>
                    </li>

                    <li class="text-gray-500 hover:bg-gray-100 hover:text-gray-900">
         <%= link_to(subjects_path, class: "w-full flex items-center py-3") do %>
                            <i class="fas fa-book text-center px-6"></i>
                            <span class="whitespace-nowrap pl-1">Add Subject</span>
                               <% end %>
                    </li>

                    <li class="text-gray-500 hover:bg-gray-100 hover:text-gray-900">
    <%= link_to(notices_path, class: "w-full flex items-center py-3") do %>
                           <i class="fa-regular fa-note-sticky text-center px-6"></i>
                            <span class="whitespace-nowrap pl-1">Add Notices</span>
                               <% end %>
                    </li>

                    <li class="text-gray-500 hover:bg-gray-100 hover:text-gray-900">
    <%= link_to(events_path, class: "w-full flex items-center py-3") do %>
                          <i class="fa-regular fa-calendar text-center px-6"></i>
                            <span class="whitespace-nowrap pl-1">Add Events</span>
                               <% end %>
                    </li>

                    <li class="text-gray-500 hover:bg-gray-100 hover:text-gray-900">
       <%= link_to(galleries_path, class: "w-full flex items-center py-3") do %>
                           <i class="fa-regular fa-image text-center px-6"></i>
                            <span class="whitespace-nowrap pl-1">Add Images</span>
   <% end %>
                    </li>

                    <li class="text-gray-500 hover:bg-gray-100 hover:text-gray-900">
    <%= link_to(divisions_path, class: "w-full flex items-center py-3") do %>
                          <i class="fa-solid fa-chalkboard-user text-center px-6"></i>
                            <span class="whitespace-nowrap pl-1">Add Classes</span>
   <% end %>
                    </li>

                    <li class="text-gray-500 hover:bg-gray-100 hover:text-gray-900">
    <%= link_to(master_timetables_path, class: "w-full flex items-center py-3") do %>
                          <i class="fas fa-table list text-center px-6"></i>
                            <span class="whitespace-nowrap pl-1">Edit Master Time-Table</span>
   <% end %>
                    </li>

                    <li class="text-gray-500 hover:bg-gray-100 hover:text-gray-900">
    <%= link_to(select_division_path, class: "w-full flex items-center py-3") do %>
                          <i class="fas fa-table list text-center px-6"></i>
                            <span class="whitespace-nowrap pl-1">Edit Week Time-Table</span>
   <% end %>
                    </li>
                
                </ul>

<%= form_tag destroy_admin_session_path, method: :delete, class: "flex flex-col gap-1 mt-2" do %>
  <%= submit_tag "Logout", class: "w-full flex items-center justify-center py-3  text-black " do %>
    Logout
  <% end %>
<% end %>

            </div>
        </aside>

        <!-- main content -->
        <section id="content"
            class="w-[100wh-60px] lg:w-[100wh-250px] ml-[60px] lg:ml-[240px] p-5 right-0 transition-all duration-500 ease-in-out">
            <!-- user summary -->
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4">
                <div class="bg-slate-50 p-5 m-2 rounded-md flex justify-between items-center shadow">
                    <div>
                        <h3 class="font-bold">Total Students</h3>
                        <p class="text-gray-500"><%= Addstudent.count %></p>

                    </div>
                    <i class="fa-solid fa-users p-4 bg-gray-200 rounded-md"></i>
                </div>

                <div class="bg-slate-50 p-5 m-2 flex justify-between items-center shadow">
                    <div>
                        <h3 class="font-bold">Total Teachers</h3>
                        <p class="text-gray-500"><%= Teacher.count%></p>
                    </div>
                    <i class="fa-solid fa-users p-4 bg-green-200 rounded-md"></i>
                </div>

                <div class="bg-slate-50 p-5 m-2 flex justify-between items-center shadow">
                    <div>
                        <h3 class="font-bold">Total Notices</h3>
                        <p class="text-gray-500"><%= Notice.count%></p>
                    </div>
                    <i class="fa-solid fa-users p-4 bg-yellow-200 rounded-md"></i>
                </div>

                <div class="bg-slate-50 p-5 m-2 flex justify-between items-center shadow">
                    <div>
                        <h3 class="font-bold">Total Events</h3>
                        <p class="text-gray-500"><%= Event.count%></p>
                    </div>
                    <i class="fa-solid fa-users p-4 bg-red-200 rounded-md"></i>
                </div>
            </div>


            <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
<canvas id="myChart" width="400" height="400"></canvas>
    <canvas id="myChart2" width="400" height="400"></canvas>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const canvas = document.getElementById('myChart');
            let myChart;

            // Fetch data for events
            fetch('/events_data')
                .then(response => response.json())
                .then(eventsData => {
                    const config = {
                        type: 'line',
                        data: {
                            labels: Object.keys(eventsData),
                            datasets: [{
                                label: 'Events Organized per Month',
                                data: Object.values(eventsData),
                                backgroundColor: 'rgba(54, 162, 235, 0.5)', // Change the color as needed
                                borderColor: 'rgb(54, 162, 235)',
                                borderWidth: 1,
                                fill: true,
                                tension: 0.4,
                            }]
                        },
                        options: {
                            plugins: {
                                title: {
                                    display: true,
                                    text: 'Events Organized per Month'
                                }
                            },
                            scales: {
                                y: {
                                    stacked: true,
                                    beginAtZero: true
                                },
                                x: {
                                    stacked: true
                                }
                            }
                        }
                    };

                    myChart = new Chart(canvas, config);
                });
        });
    </script>

</body>

</html>